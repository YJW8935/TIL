# 참조 타입



## 데이터 타입 분류

- 기본 타입

  - 정수 타입
  - 실수 타입
  - 논리 타입

  ` 실제 값을 변수 안에 저장`



- **참조 타입**
  - 배열 타입
  - 열거 타입
  - 클래스
  - 인터페이스

`메모리의 번지를 값으로 저장`

```java
//기본 타입 변수
int a = 25;
double b = 100.5;

//참조 타입 변수
String name = "신용권";
String hobby = "게임";
```

> 변수 - 스택 영역에 생성
>
> 객체 - 힙 영역에 생성





## 메모리 사용 영역

### 메소드(Method) 영역

- JVM이 시작할 떄 생성되고 모든 스레드가 공유하는 영역

> 런타임 상수풀
>
> 필드, 메소드 데이터
>
> 메소트 코드
>
> 생성자 코드



### 힙(Heap) 영역

- 객체와 배열이 생성되는 영역

> 힙 영역에서 생선된 객체나 배열
>
>  = JVM 스택 영역의 변수나 다른 객체의 필드에서 참조
>
> > 참조하는 변수나 필드가 없다면 의미 없는 객체
> >
> > = 자동으로 제거



### JVM 스택(Stack) 영역

- 각 스레드마다 존재
- 스레드가 시작될 때 할당



- 메소드를 호출할 때
  - 프레임을 추가
  - 메소드가 종료 - 해당 프레임을 제거



- 변수는 선언된 블록 안에서만 스택에 존재, 블록을 벗어나면 스택에서 제거

- 참조 타입 변수는 힙 영역이나 메소드 영역의 객체 주소를 가짐

`자바에서는 배열을 객체로 취급`





## 참조 변수의 ==, != 연산

- 동일한 객체를 참조하는지, 다른 객체를 참조하는지 알아볼 떄 사용
- 주소 값을 비교

ex) 

```java
refVar1 == refVar2  //결과:false
refVar2 != refVar2  //결과:true
```

`if문에서도 많이 사용`





## null과 NullPointerException

- **null** 값 - 힙 영역의 객체를 참조하지 않는다는 뜻으로 가질 수 있음
  - 초기값으로도 사용 가능



- **==, != 연산**을 수행 해 참조 타입 변수가 null 값을 가지는지 확인

```java
refVar1 == null  //결과:false
refVar1 != null  //결과:true
```



### 예외 (Exception)

- 프로그램 실행 도중에 발생하는 **오류**
- **NullPointerException** - 참조 타입 변수를 잘못 사용하면 발생
  - 참조 타입 변수가 null을 가지고 있을 경우, 참조 타입 변수 사용 불가 



ex)

```java
int[] intArray = null;
intArray[0] = 10;  //NullPointerException
```

> intArray - 배열 타입 변수, 참조 타입 변수
>
> 오류 발생 이유 - intArray 변수가 참조하는 배열 객체가 없음



```java
String str = null;
System.out.printf("총 문자수: " + str.length());  //NullPointerException
```

> String - 클래스 타입, 참조 타입
>
> 오류 발생 이유 - str 변수가 참조하는 String 객체가 없음



- 예외가 발생된 곳에서 **객체를 참조하지 않은 상태로 참조 타입 변수를 사용하고 있음**을 알아야 함